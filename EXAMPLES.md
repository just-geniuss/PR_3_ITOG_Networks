# Примеры использования системы уведомлений

## Быстрый старт

### 1. Компиляция проекта
```bash
cd QT_PR3
export PATH="/opt/homebrew/opt/qt/bin:$PATH"
qmake PR3.pro
make
```

### 2. Запуск сервера
```bash
# Способ 1: Через скрипт
./run.sh server

# Способ 2: Напрямую
./PR3.app/Contents/MacOS/PR3 --server
```

### 3. Запуск клиента (в другом терминале)
```bash
# Способ 1: Через скрипт  
./run.sh client

# Способ 2: Напрямую
./PR3.app/Contents/MacOS/PR3 --client
```

## Сценарии тестирования

### Тест 1: Базовая отправка уведомлений
1. Запустите сервер
2. Нажмите "Запустить сервер" в GUI
3. Запустите клиент
4. Нажмите "Запустить клиент" в GUI
5. В окне сервера введите: "Привет, это тестовое сообщение!"
6. Нажмите "Отправить уведомление"
7. Проверьте появление уведомления в клиенте и system tray

### Тест 2: Журналирование в БД
1. Отправьте несколько сообщений через сервер
2. Проверьте файл `notifications.db` - он должен содержать записи
3. Можно открыть SQLite DB Browser и посмотреть таблицу `messages`

### Тест 3: Работа с system tray
1. Запустите клиент
2. Сверните окно клиента (должно уйти в трей)
3. Отправьте сообщение с сервера
4. Уведомление должно появиться в system tray
5. Двойной клик по иконке в трее должен восстановить окно

### Тест 4: Параметры командной строки
```bash
# Показать справку
./PR3.app/Contents/MacOS/PR3 --help

# Запуск с кастомным портом
./PR3.app/Contents/MacOS/PR3 --server --port 9999

# Запуск с кастомной БД
./PR3.app/Contents/MacOS/PR3 --server --db-name "custom_db"
```

## Отладка

### Проверка портов
```bash
# Проверить, какие порты слушает приложение
lsof -i :12345
lsof -i :12346
```

### Мониторинг UDP трафика
```bash
# Мониторинг UDP пакетов (требует sudo)
sudo tcpdump -i any udp port 12346
```

### Просмотр базы данных
```bash
# Если установлен sqlite3
sqlite3 notifications.db
> SELECT * FROM messages ORDER BY timestamp DESC LIMIT 10;
> .quit
```

## Возможные расширения

### 1. Поддержка групповых уведомлений
- Добавить поле "группа" в БД
- Клиенты могут подписываться на определенные группы

### 2. Авторизация
- Добавить систему логин/пароль
- Шифрование сообщений

### 3. История сообщений
- Синхронизация истории между клиентами
- Поиск по истории сообщений

### 4. Мультимедиа уведомления
- Поддержка изображений в уведомлениях
- Звуковые сигналы

### 5. Веб-интерфейс
- Добавить HTTP API для отправки уведомлений
- Веб-панель администратора
